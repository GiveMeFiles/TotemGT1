<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TotemGT1</title>
  <link rel="apple-touch-icon" sizes="180x180" href="https://raw.githubusercontent.com/GiveMeFiles/TotemGT1/main/Favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://raw.githubusercontent.com/GiveMeFiles/TotemGT1/main/Favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://raw.githubusercontent.com/GiveMeFiles/TotemGT1/main/Favicon/favicon-16x16.png">
  <link rel="manifest" href="https://raw.githubusercontent.com/GiveMeFiles/TotemGT1/main/Favicon/site.webmanifest">
  <link rel="mask-icon" href="https://raw.githubusercontent.com/GiveMeFiles/TotemGT1/main/Favicon/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://unpkg.com/three@0.158.0/build/three.min.js"></script>
  <script src="https://unpkg.com/three-std-renderer@0.158.0/build/three-std-renderer.min.js"></script>
  <script>
    const init = async () => {
      // Handle camera permission issues
      const stream = await navigator.mediaDevices.getUserMedia({ video: true });
      console.log('Camera permission granted');

      // Create the scene
      const scene = document.createElement('a-scene');
      document.body.appendChild(scene);

      // Create the renderer
      const renderer = new THREE.WebGLRenderer({
        canvas: scene,
        antialias: true
      });

      // Create the GLB model
      const logoGLB = await fetch('https://cors-anywhere.herokuapp.com/https://github.com/GiveMeFiles/TotemGT1/blob/main/LOGO%20GREENTECH250424.glb?raw=true')
        .then(response => response.arrayBuffer())
        .then(arrayBuffer => {
          const gltfLoader = new THREE.GLTFLoader();
          return gltfLoader.load(arrayBuffer);
        });

      // Add the model to the scene
      const entity = document.createElement('a-entity');
      entity.setAttribute('gltf-model', logoGLB);
      scene.appendChild(entity);

      // Add lights to the scene
      const light1 = new THREE.PointLight(0xffffff, 1, 0.1);
      light1.position.set(0, 0, 10);
      scene.add(light1);

      const light2 = new THREE.PointLight(0xffffff, 1, 0.1);
      light2.position.set(0, 0, -10);
      scene.add(light2);

      // Add a camera to the scene
      const camera = new THREE.Camera(0, 0, 10, 0, 0, 1000);
      scene.add(camera);

      // Add controls to the camera
      const controls = new THREE.OrbitControls(camera, renderer.domElement);

      // Add the renderer to the scene
      scene.appendChild(renderer.domElement);

      // Add an animation loop
      function animate() {
        requestAnimationFrame(animate);
        controls.update();
        renderer.render(scene, camera);
      }
      animate();
    }

    // Call init when the page loads
    init();
  </script>
</head>
<body>
  <div id="ar-container">
    <div id="ar-view"></div>
  </div>
</body>
</html>
